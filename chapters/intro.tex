\chapter{Introduction}

\section{Motivation}

The motivation behind this thesis stems from a research project dedicated to creating hybrid, i.e., exploiting rigid-flexible models, methods for analyzing overconstrained multi-body systems. Research conducted in this project is planned to be validated in an experimental study. The test bench prepared for this purpose is being successively upgraded to meet various requirements. Specifically, the experimental setup needs to be equipped with position and orientation measuring sensors. Fulfilling this demand poses a significant challenge, particularly when attempting to measure forces in dynamic scenarios. Encoders planted in actuators cannot be used since it is planned to make the test bed externally driven by an industrial robotic manipulator). Moreover, installing motion measuring devices in the joints of the mechanism might hamper -- crucial for the project -- joint reaction forces measurements. The need to correlate position and orientation data with force measurements led to considerations of how measurements can be made in case the dedicated sensors are not included in the system.\\

The selected variant involves the usage of an inertial sensor and its fusion with sensors commonly used in robotics. The interdisciplinary nature of the project, combining elements from aviation concepts and robotic systems, fueled my enthusiasm to explore and innovate in this unique intersection.

\newpage
\section{Literature review}

The position and orientation estimation has been a problem known in aviation over the years. With the advent of automated control systems, the need to determine exact location and orientation has steadily increased. As a result, mechanical instruments were quickly suppressed by electronic sensors. Based on their measurements, orientation calculation algorithms were developed and implemented. The well-known and used are the Complementary filter \cite{complementary}, the Direct-Cosine-Matrix algorithm \cite{dcm} and the Madgwick Orientation Filter \cite{madgwick} \cite{Hasan2020}. All of these methods provide tolerable results depending on the set of sensors used, but without a clear mechanism to control particular sensors' involvement.
Also, the position estimation was addressed by improving path integration methods and inertial sensor measurements integration \cite{farrell2012integrated}. Next, the position was corrected by introducing radio beacon and satellite systems. For a long time, position and orientation were estimated separately.\\

A huge impact on navigation system was caused by adopting the Kalman Filter in estimation. The mathematical concept of a filter based on the equation of state and statistics was first presented in 1960 \cite{kalman}. Since then, the Kalman Filter, especially in its non-linear form (known as the Extended Kalman Filter), became a standard in state estimation and sensor fusion. Its usability was tested in many different scenarios, leading to an extensive database of articles \cite{ekf_poor} \cite{s16020264} \cite{s120709566}. Aviation is not the only application area of the Kalman Filter. Thanks to its versatility, the filter can be used wherever it is possible to arrange the appropriate equations of state.\\

The result of widespread familiarity with the Kalman filter is also the development of many modifications and improvements that allow it to be used in specific applications. One of the most useful features presented in the thesis is the possibility of developing the filter with an additional correction to meet the constraints imposed on the system state variables. The concept and implementation of correction are detailed in the article \cite{simon}. The correction leads to an exact solution in the case of linear equalities or inequalities, whereas it gives an estimation in the case of non-linear constraints. It should be noted that, to the author's best knowledge, this method has not been utilized in estimating the position of robots and mechanisms. Although the method should probably be well adopted due to its universality, it needs to be verified.\\

The navigation methods outlined also appear in robotics, but the dominant part is mobile robotics \cite{accelerometer_mobile}. In stationary mechanisms, higher accuracy and repeatability are required. For this reason, a common approach is to use encoder readout and position estimation through a forward kinematics task \cite{forward_kinematics}. The significant advantage of this solution is that the received results comply with mechanism constraints. In the absence of an encoder or similar built-in sensor (e.g,. in biorobotics), computer vision algorithms \cite{cv_positioning} \cite{cv_positioning2} and triangulation methods \cite{igps} are used as a substitute. Inertial sensors are also mounted in industrial robots, but the measurements are usually used in quality and health checks like vibration measures \cite{Dogrusoz_2020}.\\

Every algorithm, no matter how sophisticated, bases its results on the data provided. Poor-quality data leads to errors and high uncertainty of results. Garbage in, garbage out. To prevent this, additional steps should be taken at the system preparation stage. By nature, sensors have finite resolution and sampling time. Each sensor measurement is subject to errors, but many factors contribute to this, like bias or high-frequency noise. Some of these factors are inevitable, while others can be strongly reduced, e.g., mounting bias. To improve results, all sensors should be checked and calibrated before usage \cite{mi13060879} \cite{Hol_2011} \cite{gyro_calib}. It is also a good practice to pre-filter raw measurements with frequency filtration \cite{BADRI20101425} to minimize noise and characteristic disturbances. \\

The speed of calculation is an important factor as well. Sensors have various measurement periods and modes. Some of them, especially inertial sensors, are incredibly fast, leaving only a couple of milliseconds for calculation. To achieve good-quality results, as stated in Nyquistâ€“Shannon sampling theorem \cite{sample_theorem}, the frequency of estimation should be at least twice as high as the maximal frequency observed in the mechanism's movement. Achieving high performance on an embedded system requires suitable implementation solutions. Since most of the calculations are conducted on floating precision numbers, hardware acceleration is required  \cite{fpu2} \cite{fpu}.\\

At the time of writing this review, no publication could be found on the application of inertial navigation systems in industrial robotics. This allows to conclude that the concept defined in the project objective has not yet been studied and is an open research problem.\\

Note that some of the publications only briefly mentioned here will be revisited for details in the following chapters. Moreover, about a dozen other sources will be referenced when needed.

\newpage
\section{Aims and scope}

The purpose of this project is to design a universal positioning system based on inertial navigation and knowledge of the multi-body design. The system is an adaptation of the Extended Kalman Filter to be used in robotic. To achieve that, many sensors are considered and involved in calculations. The measurements will be filtered and blended to improve estimation results. The algorithm will be optimized to run in real time. The architecture of the system is planned to be very transparent and open to modification in order to increase reusability. It is worth to highlighting that the usage scope of the system is not limited to the presented case. The selected variant has an noticeable teaching value. However, there are many applications of complete logging systems, especially in industry and mobile robotics.\\

The presented review of state-of-the-art methods of estimation position and orientation both in aviation and robotic studies showed that many solutions had already been checked and can be partially adopted in the project. A significant part of the work is devoted to an attempt to adapt the universal method of constraint correction to the specific problems considered in the thesis. Due to the peculiarity of the selected multi-body system, the adopted method requires improvements, which the author is introducing. Based on the gathered information, a novel fusion method will be proposed and validated in the simulation and hardware deployment.\\

The practical outcome of the thesis is the design of a prototype that is able to estimate position and orientation with various sensors sets connected. The thesis includes estimation results and error calculation. Tuning and improving scores is also part of the project. Finally, the project ends with experiments that are designed to confirm the accuracy and precision of the developed system, and to determine whether it is suitable for use in further scientific work. 